<!DOCTYPE html>
<html>
<body style="margin:0;background:#000;display:flex;justify-content:center;align-items:center;height:100vh">
<canvas id="c" width="800" height="400"></canvas>
<script>
c=document.getElementById('c');x=c.getContext('2d');
p={x:50,y:200,w:40,h:60,sp:0,sz:1};i=[];l=[];s=v=3;f=0;d=1;t=0;h='';bg=[];pw=[];
g=new Image();j=new Image();b=new Image();q=new Image();w=new Image();r=new Image();m=new Image();z=new Image();
g.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 60"><rect width="40" height="60" fill="%23000"/><rect x="5" y="0" width="30" height="30" fill="%23f0d0b0"/><rect x="5" y="0" width="30" height="8" fill="%234a3000"/><rect x="3" y="0" width="34" height="8" fill="%234070b0"/><rect x="5" y="12" width="30" height="8" fill="%231a1a1a"/><rect x="5" y="12" width="12" height="8" fill="%23404040"/><rect x="23" y="12" width="12" height="8" fill="%23404040"/><rect x="15" y="17" width="4" height="4" fill="%23fff"/><rect x="21" y="17" width="4" height="4" fill="%23fff"/><rect x="10" y="22" width="20" height="4" fill="%23d35f5f"/><rect x="0" y="30" width="40" height="20" fill="%23fff"/><rect x="4" y="34" width="32" height="12" fill="%23f0f0f0"/><rect x="8" y="38" width="8" height="4" fill="%23f00"/><rect x="16" y="38" width="8" height="4" fill="%230f0"/><rect x="24" y="38" width="8" height="4" fill="%2300f"/><rect x="0" y="50" width="40" height="10" fill="%23a0a060"/></svg>';
j.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 60"><rect width="40" height="60" fill="%235d7ca6"/><rect x="5" y="0" width="30" height="30" fill="%23f0d0b0"/><rect x="5" y="0" width="30" height="8" fill="%234a3000"/><rect x="3" y="0" width="34" height="8" fill="%23c0c0c0"/><rect x="5" y="12" width="30" height="8" fill="%231a1a1a"/><rect x="5" y="12" width="12" height="8" fill="%23404040"/><rect x="23" y="12" width="12" height="8" fill="%23404040"/><rect x="15" y="17" width="4" height="4" fill="%23fff"/><rect x="21" y="17" width="4" height="4" fill="%23fff"/><rect x="10" y="22" width="20" height="4" fill="%23d35f5f"/><rect x="0" y="30" width="40" height="20" fill="%23fff"/><rect x="4" y="34" width="32" height="12" fill="%23f0f0f0"/><rect x="8" y="38" width="24" height="4" fill="%235d7ca6"/><rect x="0" y="50" width="40" height="10" fill="%23808080"/></svg>';
b.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M12 8h8v2h2v2h2v12h-2v2h-2v2h-8v-2h-2v-2h-2V12h2v-2h2z" fill="%23f00"/><rect x="14" y="12" width="2" height="2" fill="%23ff0"/><rect x="18" y="14" width="2" height="2" fill="%23ff0"/><rect x="14" y="16" width="2" height="2" fill="%23ff0"/><rect x="18" y="18" width="2" height="2" fill="%23ff0"/><rect x="14" y="20" width="2" height="2" fill="%23ff0"/><path d="M10 6h4v2h-2v2h-2z" fill="%230f0"/><path d="M14 4h4v2h-4z" fill="%230f0"/><path d="M18 6h4v2h-2v2h-2z" fill="%230f0"/></svg>';
q.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64"><rect x="8" y="32" width="48" height="24" fill="%23F0E68C"/><rect x="8" y="28" width="48" height="4" fill="%23DEB887"/><rect x="12" y="30" width="40" height="16" fill="%23FA8072"/><path d="M12 36h-4v-4h4v4h4v4h-4z" fill="%23FA8072"/><path d="M52 36h4v-4h-4v4h-4v4h4z" fill="%23FA8072"/><rect x="16" y="36" width="32" height="4" fill="%2390EE90"/><path d="M8 40h48v16H8z" fill="%23F0E68C"/><path d="M8 40h48v8q-24 8-48 0z" fill="%23DEB887"/><rect x="24" y="32" width="8" height="8" fill="%23fff"/><rect x="26" y="34" width="4" height="4" fill="%23000"/><rect x="40" y="32" width="8" height="8" fill="%23fff"/><rect x="42" y="34" width="4" height="4" fill="%23000"/></svg>';
w.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 80 80"><path d="M0 40h80v40H0z" fill="%23FF4500"/><path d="M10 50h20v20H10zM50 50h20v20H50z" fill="%23FF6347"/><path d="M0 40q40-40 80 0" fill="%23FF4500"/><circle cx="25" cy="30" r="5" fill="%23000"/><circle cx="55" cy="30" r="5" fill="%23000"/><path d="M0 60q10-20 20 0q10 20 20 0M40 60q10-20 20 0q10 20 20 0" fill="none" stroke="%23FF6347" stroke-width="5"/></svg>';
r.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40"><circle cx="20" cy="20" r="20" fill="%23ff0"/><text x="20" y="28" font-size="24" text-anchor="middle" fill="%23000">üåÄ</text></svg>';
m.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40"><rect width="40" height="40" fill="%23a52a2a"/><path d="M5 20L20 5L35 20L20 35Z" fill="%23d2691e"/><circle cx="20" cy="20" r="5" fill="%238b4513"/></svg>';
z.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40"><circle cx="20" cy="20" r="20" fill="%23f0f"/><text x="20" y="28" font-size="24" text-anchor="middle" fill="%23fff">üçÑ</text></svg>';
function u(){
if(!f){t++;d=1+t/1e3*.1;
p.x+=((k[39]||0)-(k[37]||0))*(5+p.sp);p.y+=((k[40]||0)-(k[38]||0))*(5+p.sp);
p.x=Math.max(0,Math.min(760,p.x));p.y=Math.max(0,Math.min(340,p.y));
if(Math.random()<.02*d)i.push({x:800,y:Math.random()*340,w:30,h:30,t:0});
if(Math.random()<.01*d)i.push({x:800,y:Math.random()*340,w:40,h:30,t:1});
if(Math.random()<.005*d*(1+d/2)){
 let size=Math.max(60,Math.min(120,80*d+Math.random()*40-20));
 l.push({x:800,y:Math.random()*(400-size),w:size,h:size});
}
if(Math.random()<.1)bg.push({x:800,y:Math.random()*400,s:Math.random()*20+10});
if(Math.random()<.002)pw.push({x:800,y:Math.random()*340,w:30,h:30,t:Math.floor(Math.random()*3)});
i=i.filter(o=>{o.x-=4*d;return o.x>-40&&!(p.x<o.x+o.w&&p.x+p.w>o.x&&p.y<o.y+o.h&&p.y+p.h>o.y&&(s+=(o.t?5:1),1))});
l=l.filter(o=>{o.x-=2*d;return o.x>-o.w&&!(p.x<o.x+o.w&&p.x+p.w>o.x&&p.y<o.y+o.h&&p.y+p.h>o.y&&(v--,v<1&&(f=1),1))});
pw=pw.filter(o=>{o.x-=3*d;return o.x>-30&&!(p.x<o.x+o.w&&p.x+p.w>o.x&&p.y<o.y+o.h&&p.y+p.h>o.y&&(o.t==0?p.sp=5:o.t==1?v++:p.sz=2,1))});
bg=bg.filter(o=>{o.x-=1*d;return o.x>-o.s});
x.fillStyle='#600';x.fillRect(0,0,800,400);
bg.forEach(o=>{x.drawImage(b,o.x,o.y,o.s,o.s)});
x.save();x.translate(p.x+p.w/2,p.y+p.h/2);x.rotate(t/10);x.scale(p.sz,p.sz);x.drawImage(h=='g'?g:j,-p.w/2,-p.h/2,p.w,p.h);x.restore();
i.forEach(o=>x.drawImage(o.t?q:b,o.x,o.y,o.w,o.h));
l.forEach(o=>{x.save();x.translate(o.x+o.w/2,o.y+o.h/2);x.rotate(-t/20);x.drawImage(w,-o.w/2,-o.h/2,o.w,o.h);x.restore()});
pw.forEach(o=>x.drawImage(o.t==0?r:o.t==1?m:z,o.x,o.y,o.w,o.h));
if(p.sp>0){x.fillStyle='rgba(255,255,0,0.3)';x.fillRect(p.x,p.y,p.w*p.sz,p.h*p.sz);p.sp-=0.05;}
if(p.sz>1){p.sz-=0.01;if(p.sz<1)p.sz=1;}
x.fillStyle='#fff';x.font='20px Arial';x.fillText('Score: '+s,10,30);x.fillText('Lives: '+v,700,30);x.fillText('Diff: '+d.toFixed(1)+'x',350,30);
requestAnimationFrame(u)}else{x.fillStyle='rgba(0,0,0,0.5)';x.fillRect(0,0,800,400);x.fillStyle='#fff';x.font='30px Arial';x.fillText('Game Over. Score: '+s,300,200);x.font='20px Arial';x.fillText('Click or press G/J to restart',280,240)}
}
function start(ch){
if(f||!t){p.x=50;p.y=200;p.sp=0;p.sz=1;i=[];l=[];bg=[];pw=[];s=0;v=3;f=0;t=0;d=1;h=ch;u()}
}
c.onclick=e=>{
let rect=c.getBoundingClientRect(),x=e.clientX-rect.left,y=e.clientY-rect.top;
if(y>100&&y<300){
 if(x>150&&x<350)start('g');
 else if(x>450&&x<650)start('j');
}
};
k={};
onkeydown=e=>{
k[e.which]=true;
if(e.key=='g'||e.key=='G')start('g');
if(e.key=='j'||e.key=='J')start('j');
};
onkeyup=e=>k[e.which]=false;
function drawStart(){
x.fillStyle='#600';x.fillRect(0,0,800,400);
x.fillStyle='#fff';x.font='30px Arial';x.fillText('Strawberry Hellscape',250,50);
x.font='20px Arial';x.fillText('Choose your character (click or press G/J)',200,90);
x.drawImage(g,150,100,200,200);
x.drawImage(j,450,100,200,200);
x.fillText('Greg (G)',220,340);
x.fillText('Josh (J)',520,340);
x.fillText('New: üåÄ for spin, ‚òï for life, üçÑ for growth!',180,380);
requestAnimationFrame(t?u:drawStart);
}
g.onload=j.onload=drawStart;
</script>
</body>
</html>
